type: uploaded file
fileName: task.yaml
fullContent:
author_email: "sre@example.com"
author_name: "Dependency Architect"
category: "software_engineering"
difficulty: "medium"
disable_asciinema: false
estimated_duration_sec: 900.0
expert_time_estimate_min: 10
instruction: |
  **Context**
  You are setting up a data processing pipeline for a legacy project. The source code (`src/process_data.py`) has been running in production for years. However, when you try to set up the environment on a new machine using the provided `requirements.txt`, the application crashes immediately.

  The error logs indicate an `AttributeError`, suggesting a mismatch between the code logic and the installed library versions.

  **Environment & Files**
  - `src/process_data.py`: The data processing script (Do NOT rewrite the logic unless absolutely necessary; prefer environment fixes).
  - `requirements.txt`: The dependency file defining which libraries to install.
  - `reproduce_issue.sh`: A script that installs dependencies and runs the app to demonstrate the crash.

  **The Failure**
  Running `bash reproduce_issue.sh` results in:
  `AttributeError: 'DataFrame' object has no attribute 'append'`

  **Objectives**
  1. Analyze the incompatibility between the installed `pandas` version and the code in `src/process_data.py`.
  2. Fix the issue by modifying `requirements.txt` to pin a compatible version of the library (Recommended) OR strictly refactor the code to support the new library version.
  3. Ensure `reproduce_issue.sh` runs successfully to completion without errors.

  **Constraints**
  - You must verify the fix by running `reproduce_issue.sh`.
  - The script must output "Data processing completed successfully." upon success.
  - You typically should pin versions in `requirements.txt` (e.g., `package==x.y.z`) to ensure reproducibility.

junior_time_estimate_min: 25
max_agent_timeout_sec: 600
max_test_timeout_sec: 180
parser_name: "pytest"
run_tests_in_same_shell: false
tags:
  - "python"
  - "pip"
  - "pandas"
  - "dependency-management"
  - "debugging"